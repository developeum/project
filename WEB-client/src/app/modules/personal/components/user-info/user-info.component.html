<div class="container">
    <div class="infoContainer">
        <div *ngIf="imageToShow" class="imgContainer">
            <img class="userImg" src="imageToShow" alt="">
        </div>
        <div class="changeImgContainer">
            <label class="image-upload-container btn btn-bwm">
                <span>Select Image</span>
                <input #imageInput
                    type="file"
                    accept="image/*"
                    (change)="processFile(imageInput)">
            </label>
        </div>
        <div class="textContainer" >
            <div class="text" *ngIf = "!visibility">
                <div class="infoContainer" *ngIf = "userInfo$ | async as user">
                    <p *ngIf = "userInfo">{{user.first_name}} {{user.last_name}} <button (click) = "changeVisibility()">Изменить</button></p>
                    <br>
                    <p *ngIf = "userInfo">{{user.status.name}}</p>
                    <p *ngIf = "userInfo">{{user.email}}</p>
                    <p *ngIf = "userInfo">{{user.phone}}</p>
                    <p *ngIf = "userInfo">{{user.city.name}}</p>
                </div>
            </div>  
            <div class="formContainer" *ngIf = "visibility">
                <form [formGroup] = "userInfoForm">
                    <div class="formGroup">
                        <p class="name">Имя</p>
                        <input type="text" formControlName = "firstName">
                    </div>
                    <div class="formGroup">
                        <p class="name">Фамилия</p>
                        <input type="text" formControlName = "lastName">
                    </div>
                    <div class="formGroup">
                        <p class="name">Телефонный номер</p>
                        <input type="text" formControlName = "phone">
                    </div>
                    <select formControlName = "status" name="select" id="">
                        <option *ngFor = "let status of statuses, let i = index" value="status.id">{{status.name}}</option>
                    </select>
                    <select formControlName = "stack" name="select" id="">
                        <option *ngFor = "let stack of stacks, let i = index" value="stack.id">{{stack.name}}</option>
                    </select>
                    <button type="submit" (click) = "onSubmit()">Применить</button>
                </form>
            </div>     
        </div>
                
        <button click = "logout()">Выйти</button>
        
    </div>
</div>
